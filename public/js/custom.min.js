<<<<<<< HEAD
function init_sidebar(){var e=function(){$RIGHT_COL.css("min-height",$(window).height());var e=$BODY.outerHeight(),t=$BODY.hasClass("footer_fixed")?-10:$FOOTER.height(),n=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),i=e<n?n:e;i-=$NAV_MENU.height()+t,$RIGHT_COL.css("min-height",i)};$SIDEBAR_MENU.find("a").on("click",function(t){var n=$(this).parent();n.is(".active")?(n.removeClass("active active-sm"),$("ul:first",n).slideUp(function(){e()})):(n.parent().is(".child_menu")?$BODY.is(".nav-sm")&&($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()):($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),n.addClass("active"),$("ul:first",n).slideDown(function(){e()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($SIDEBAR_MENU.find("li.active ul").hide(),$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($SIDEBAR_MENU.find("li.active-sm ul").show(),$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),$BODY.toggleClass("nav-md nav-sm"),e(),$(".dataTable").each(function(){$(this).dataTable().fnDraw()})}),$SIDEBAR_MENU.find("a[href='"+CURRENT_URL+"']").parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==CURRENT_URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){e()}).parent().addClass("active"),$(window).smartresize(function(){e()}),e(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}function init_panel(){$(".collapse-link").on("click",function(){var e=$(this).closest(".x_panel"),t=$(this).find("i"),n=e.find(".x_content");e.attr("style")?n.slideToggle(200,function(){e.removeAttr("style")}):(n.slideToggle(200),e.css("height","auto")),t.toggleClass("fa-chevron-up fa-chevron-down")}),$(".close-link").click(function(){$(this).closest(".x_panel").remove()})}function init_tooltip(){$("[data-toggle='tooltip']").tooltip({container:"body"})}function init_progressbar(){$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar()}function urlByBrowser(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf(!1)?document.URL:document.documentURI}function selectDataApi(e,t){var n="",i=urlByBrowser();return i=i.substring(i.indexOf(":")+3),"chart"===e?n="/getChartData"+i.substring(i.indexOf("/")):"knob"===e?n="/admin/getKnobData/":"custom"===e?n="/getCustomData/"+t.unit+"/"+t.preValId:"modal"===e&&(n="/getModalData/"+t.pj_id+"/"+t.build_id),n}function processdata(e){var t=[],n=[],i=[],o=[],a=[],r=[],s=[],l=[],d=e.totalChartCount;a=e.pj_label.slice();for(var c=0;c<d;c++)t[c]=[],n[c]=[],n[c][0]=[],n[c][1]=[],n[c][2]=[],o[c]=e.pj_label[c].pj_id,r[c]=e.pj_label[c].pj_link,s[c]=[],s[c][0]=[],s[c][1]=[],l[c]=[],a[c].build_id=[];e.data.forEach(function(i){var r=o.indexOf(i.pj_id);a[r].build_id.push(i.build_id),i.start_t||(i.start_t="0"),t[r].length<e.maxLabel&&("0"===i.start_t?t[r].push("Failed"):t[r].push(i.start_t.slice(5,10))),n[r][0].push(i.pass),n[r][1].push(i.fail),n[r][2].push(i.skip),s[r][0]?s[r][0]<1*i.buildno&&(s[r][0]=i.buildno,s[r][1]="0"===i.start_t?"Build Failed":i.start_t,l[r]=i.duration.slice(0,2)+"h "+i.duration.slice(3,5)+"m "+i.duration.slice(6,8)+"s"):(s[r][0]=-1,s[r][1]="1453/05/29 09:00:00")});for(var u="rgba(102, 194, 255,",p="rgba(255, 115, 115,",m="rgba(130, 130, 130,",h=0;h<d;h++)i[h]={labels:t[h],datasets:[{label:"Fail",backgroundColor:p+" 0.7)",borderColor:p+" 0.7)",pointBorderColor:p+" 0.7)",pointBackgroundColor:p+" 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:p+" 1)",data:n[h][1]},{label:"Skip",backgroundColor:m+" 0.7)",borderColor:m+" 0.7)",pointBorderColor:m+" 0.7)",pointBackgroundColor:m+" 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:m+" 1)",data:n[h][2]},{label:"Pass",backgroundColor:u+" 0.7)",borderColor:u+" 0.7)",pointBorderColor:u+" 0.7)",pointBackgroundColor:u+" 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:u+" 1)",data:n[h][0]}]};return{getInnerData:function(){return i},getPjLabel:function(){return a},getBuildTime:function(){return s},getDuration:function(){return l},getPjLink:function(){return r},getTotalChartCount:function(){return d}}}function init_knob(){if(void 0!==$.fn.knob&&document.getElementById("knobInput")){console.log("init_knob");var e=new XMLHttpRequest,t=document;t.getElementById("labelSubmit").addEventListener("click",function(){t.getElementById("newMaxLabel").value=t.getElementById("newMaxLabel_text").innerText}),e.open("GET",selectDataApi("knob",null),!0),e.send(),e.addEventListener("load",function(){var n=JSON.parse(e.responseText);t.getElementById("knobInput").value=n,t.getElementById("MaxLabel_text").innerText="현재 : "+n+"개",$(".knob").knob({min:1,max:20,thickness:.2,displayPrevious:!0,inputColor:"#34495E",fgColor:"#34495E",change:function(e){},release:function(e){t.getElementById("newMaxLabel_text").innerText="변경 : "+e+"개"},cancel:function(){console.log("cancel : ",this)},draw:function(){this.cursorExt=.3;var e,t=this.arc(this.cv);return this.g.lineWidth=this.lineWidth,this.o.displayPrevious&&(e=this.arc(this.v),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,e.s,e.e,e.d),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,t.s,t.e,t.d),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}})})}}function init_SmartWizard(){void 0!==$.fn.smartWizard&&(console.log("init_SmartWizard"),$("#wizard").smartWizard(),$("#wizard_verticle").smartWizard({transitionEffect:"slide"}),$(".buttonNext").addClass("btn btn-success"),$(".buttonPrevious").addClass("btn btn-primary"))}function init_select2(){if(document.getElementById("select2Div0")){console.log("init_select2");for(var e=[[],[],[],[]],t=[],n=document,i=document.createDocumentFragment(),o=0;o<4;o++)$("#select2_multiple"+o).select2({maximumSelectionLength:2,placeholder:"이전 항목을 선택해주세요",containerCssClass:":all:",allowClear:!0,dropdownParent:$("#select2Div"+o)});var a=n.createElement("option");a.innerText="Project 명",a.setAttribute("display","none"),i.appendChild(a);var r=new XMLHttpRequest;r.onreadystatechange=function(){404===r.status?window.location="/404":500===r.status&&(window.location="/500")},r.open("GET",selectDataApi("custom",{unit:"project",preValId:-1}),!0),r.send(),r.addEventListener("load",function(){e[0]=JSON.parse(r.responseText),e[0].forEach(function(e){var t=n.createElement("option");t.innerText=e.pj_name,i.appendChild(t)}),document.getElementById("select2_multiple0").appendChild(i)});for(var s=0;s<4;s++)$("#select2_multiple"+s).on("change",function(i){return function(){var o=$("#select2_multiple"+i).val(),a=$("#select2_multiple"+i)[0].selectedIndex;if($.isEmptyObject(o)||"Project 명"===o){for(var r=3;r>i;r--)$("#select2_multiple"+r).attr("disabled",!0);t.splice(i)}else{var s;s=0===i?e[0][a-1].pj_id:1===i?e[1][a].build_id:2===i?e[2][a].class_id:e[3][a].method_id,t[i]=s;var l=["buildno","class","testcase"];if(i>=0&&i<=2){var d=new XMLHttpRequest;d.open("GET",selectDataApi("custom",{unit:l[i],preValId:s}),!0),d.send(),d.addEventListener("load",function(){var t=document.createDocumentFragment();e[i+1]=[],$("#select2_multiple"+(i+1)).empty(),e[i+1]=JSON.parse(d.responseText),e[i+1].forEach(function(e){var i=n.createElement("option");e.buildno?i.innerText="(Build No."+e.buildno+") ":e.class_name?i.innerText=e.package_name+" / "+e.class_name:e.method_name&&(i.innerText=e.method_name),t.append(i)}),$("#select2_multiple"+(i+1)).append(t)}),$("#select2_multiple"+(i+1)).removeAttr("disabled")}}}}(s));document.getElementById("customSubmitBtn").addEventListener("click",function(){if("Project 명"!==$("#select2_multiple0").val()){var e=document.createDocumentFragment(),i=new XMLHttpRequest;i.open("POST","/access/deleteData",!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){404===i.status?window.location="/404":500===i.status&&(window.location="/500")},i.send(JSON.stringify({selectId:t})),i.addEventListener("load",function(){var t=n.createElement("div"),o=n.createElement("div"),a=n.createElement("h2"),r=n.createElement("div"),s=n.createElement("div"),l=n.createElement("div");t.setAttribute("class","x_panel"),o.setAttribute("class","x_title"),a.innerText="결과",a.setAttribute("text-align","center"),r.setAttribute("class","clearfix"),s.setAttribute("class","x_content"),l.setAttribute("id","resultDiv"),t.appendChild(o),o.appendChild(a),o.appendChild(r),t.appendChild(s),s.appendChild(l),l.innerHTML=i.responseText,e.appendChild(t),document.getElementById("customSortDiv").appendChild(e)})}})}}function init_modal(e,t){return function(){if(document.getElementById("detailPage")){var n=new XMLHttpRequest;n.onreadystatechange=function(){404===n.status?window.location="/404":500===n.status&&(window.location="/500")},n.open("GET",selectDataApi("modal",{pj_id:e,build_id:t}),!0),n.send(),n.addEventListener("load",function(){var e=processdata(JSON.parse(n.responseText));new Chart(document.getElementById("lineChart_mo"),{type:"line",data:e.getInnerData()[0],options:{hover:{intersect:!1},tooltips:{mode:"index",intersect:!1,itemSort:function(e,t){return t.datasetIndex-e.datasetIndex}},scales:{yAxes:[{stacked:!0}]},elements:{line:{tension:0,borderWidth:1},point:{radius:0,borderWidth:2,hitRadius:20}}}})})}}}function init_charts(){if(document.getElementById("chartDiv")&&"undefined"!=typeof Chart){console.log("init_charts"),Chart.defaults.global.legend=!1;var e=new XMLHttpRequest;e.onreadystatechange=function(){404===e.status?window.location="/404":500===e.status&&(window.location="/500")},e.open("GET",selectDataApi("chart",null),!0),e.send(),e.addEventListener("load",function(){for(var t=processdata(JSON.parse(e.responseText)),n=t.getTotalChartCount(),i=document,o=0;o<n;o++)i.getElementById("title"+o).innerText=t.getPjLabel()[o].pj_name,i.getElementById("build"+o).innerText="Last Build : No."+t.getBuildTime()[o][0]+" ("+t.getBuildTime()[o][1]+")",i.getElementById("duration"+o).innerText="Duration : "+t.getDuration()[o],i.getElementById("link"+o).setAttribute("href",t.getPjLink()[o]);for(o=0;o<n;o++){var a=document.getElementById("lineChart"+o);!function(e,n){document.getElementById("lineChart"+o).addEventListener("click",function(i){var o=e.getElementsAtEventForMode(i,"index",{intersect:!1});0!=o.length&&($("#detailPage").modal("show"),init_modal(t.getPjLabel()[n].pj_id,t.getPjLabel()[n].build_id[o[0]._index])(),$("#detailPage").on("hidden.bs.modal",function(){document.getElementById("panel_mo").removeChild(document.getElementById("lineChart_mo"));var e=document.createElement("canvas");e.setAttribute("id","lineChart_mo"),e.setAttribute("height","50%"),document.getElementById("panel_mo").appendChild(e)}))})}(new Chart(a,{type:"line",data:t.getInnerData()[o],options:{hover:{intersect:!1},tooltips:{mode:"index",intersect:!1,itemSort:function(e,t){return t.datasetIndex-e.datasetIndex}},scales:{yAxes:[{stacked:!0}]},elements:{line:{tension:0,borderWidth:1},point:{radius:0,borderWidth:2,hitRadius:20}}}}),o)}})}}function init_compose(){void 0!==$.fn.slideToggle&&(console.log("init_compose"),$("#compose, .compose-close").click(function(){$(".compose").slideToggle()}))}!function(e,t){var n=function(e,t,n){var i;return function(){var o=this,a=arguments;i?clearTimeout(i):n&&e.apply(o,a),i=setTimeout(function(){n||e.apply(o,a),i=null},t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",n(e)):this.trigger(t)}}(jQuery,"smartresize");var CURRENT_URL=window.location.href.split("#")[0].split("?")[0],$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer");$(document).ready(function(){init_sidebar(),init_panel(),init_tooltip(),init_progressbar()}),"undefined"!=typeof NProgress&&NProgress.start(),$(document).ready(function(){init_knob(),init_SmartWizard(),init_charts(),init_select2(),init_compose()}),$(window).on("load",function(){NProgress.done()});
=======
function init_sidebar(){var e=function(){$RIGHT_COL.css("min-height",$(window).height());var e=$BODY.outerHeight(),t=$BODY.hasClass("footer_fixed")?-10:$FOOTER.height(),n=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),i=e<n?n:e;i-=$NAV_MENU.height()+t,$RIGHT_COL.css("min-height",i)};$SIDEBAR_MENU.find("a").on("click",function(t){var n=$(this).parent();n.is(".active")?(n.removeClass("active active-sm"),$("ul:first",n).slideUp(function(){e()})):(n.parent().is(".child_menu")?$BODY.is(".nav-sm")&&($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()):($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),n.addClass("active"),$("ul:first",n).slideDown(function(){e()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($SIDEBAR_MENU.find("li.active ul").hide(),$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($SIDEBAR_MENU.find("li.active-sm ul").show(),$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),$BODY.toggleClass("nav-md nav-sm"),e(),$(".dataTable").each(function(){$(this).dataTable().fnDraw()})}),$SIDEBAR_MENU.find("a[href='"+CURRENT_URL+"']").parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==CURRENT_URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){e()}).parent().addClass("active"),$(window).smartresize(function(){e()}),e(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}function init_panel(){$(".collapse-link").on("click",function(){var e=$(this).closest(".x_panel"),t=$(this).find("i"),n=e.find(".x_content");e.attr("style")?n.slideToggle(200,function(){e.removeAttr("style")}):(n.slideToggle(200),e.css("height","auto")),t.toggleClass("fa-chevron-up fa-chevron-down")}),$(".close-link").click(function(){$(this).closest(".x_panel").remove()})}function init_tooltip(){$("[data-toggle='tooltip']").tooltip({container:"body"})}function init_progressbar(){$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar()}function urlByBrowser(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf(!1)?document.URL:document.documentURI}function selectDataApi(e,t){var n="",i=urlByBrowser();return i=i.substring(i.indexOf(":")+3),"chart"===e?n="/getChartData"+i.substring(i.indexOf("/")):"knob"===e?n="/admin/getKnobData/":"custom"===e?n="/getCustomData/"+t.unit+"/"+t.preValId:"modal"===e&&(n="/getModalData/"+t.pj_id+"/"+t.build_id),n}function processdata(e){var t=[],n=[],i=[],o=[],a=[],r=[],s=[],l=[],d=e.totalChartCount;a=e.pj_label.slice();for(var c=0;c<d;c++)t[c]=[],n[c]=[],n[c][0]=[],n[c][1]=[],n[c][2]=[],o[c]=e.pj_label[c].pj_id,r[c]=e.pj_label[c].pj_link,s[c]=[],s[c][0]=[],s[c][1]=[],l[c]=[],a[c].build_id=[];e.data.forEach(function(i){var r=o.indexOf(i.pj_id);a[r].build_id.push(i.build_id),i.start_t||(i.start_t="0"),t[r].length<e.maxLabel&&("0"===i.start_t?t[r].push("Failed"):t[r].push(i.start_t.slice(5,10))),n[r][0].push(i.pass),n[r][1].push(i.fail),n[r][2].push(i.skip),s[r][0]?s[r][0]<1*i.buildno&&(s[r][0]=i.buildno,s[r][1]="0"===i.start_t?"Build Failed":i.start_t,l[r]=i.duration.slice(0,2)+"h "+i.duration.slice(3,5)+"m "+i.duration.slice(6,8)+"s"):(s[r][0]=-1,s[r][1]="1453/05/29 09:00:00")});for(var u="rgba(102, 194, 255,",p="rgba(255, 115, 115,",m="rgba(130, 130, 130,",h=0;h<d;h++)i[h]={labels:t[h],datasets:[{label:"Fail",backgroundColor:p+" 0.7)",borderColor:p+" 0.7)",pointBorderColor:p+" 0.7)",pointBackgroundColor:p+" 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:p+" 1)",data:n[h][1]},{label:"Skip",backgroundColor:m+" 0.7)",borderColor:m+" 0.7)",pointBorderColor:m+" 0.7)",pointBackgroundColor:m+" 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:m+" 1)",data:n[h][2]},{label:"Pass",backgroundColor:u+" 0.7)",borderColor:u+" 0.7)",pointBorderColor:u+" 0.7)",pointBackgroundColor:u+" 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:u+" 1)",data:n[h][0]}]};return{getInnerData:function(){return i},getPjLabel:function(){return a},getBuildTime:function(){return s},getDuration:function(){return l},getPjLink:function(){return r},getTotalChartCount:function(){return d}}}function init_knob(){if(void 0!==$.fn.knob&&document.getElementById("knobInput")){console.log("init_knob");var e=new XMLHttpRequest,t=document;t.getElementById("labelSubmit").addEventListener("click",function(){t.getElementById("newMaxLabel").value=t.getElementById("newMaxLabel_text").innerText}),e.open("GET",selectDataApi("knob",null),!0),e.send(),e.addEventListener("load",function(){var n=JSON.parse(e.responseText);t.getElementById("knobInput").value=n,t.getElementById("MaxLabel_text").innerText="현재 : "+n+"개",$(".knob").knob({min:1,max:20,thickness:.2,displayPrevious:!0,inputColor:"#34495E",fgColor:"#34495E",change:function(e){},release:function(e){t.getElementById("newMaxLabel_text").innerText="변경 : "+e+"개"},cancel:function(){console.log("cancel : ",this)},draw:function(){this.cursorExt=.3;var e,t=this.arc(this.cv);return this.g.lineWidth=this.lineWidth,this.o.displayPrevious&&(e=this.arc(this.v),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,e.s,e.e,e.d),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,t.s,t.e,t.d),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}})})}}function init_SmartWizard(){void 0!==$.fn.smartWizard&&(console.log("init_SmartWizard"),$("#wizard").smartWizard(),$("#wizard_verticle").smartWizard({transitionEffect:"slide"}),$(".buttonNext").addClass("btn btn-success"),$(".buttonPrevious").addClass("btn btn-primary"))}function init_select2(){if(document.getElementById("select2Div0")){console.log("init_select2");for(var e=[[],[],[],[]],t=[],n=document,i=document.createDocumentFragment(),o=0;o<4;o++)$("#select2_multiple"+o).select2({maximumSelectionLength:2,placeholder:"이전 항목을 선택해주세요",containerCssClass:":all:",allowClear:!0,dropdownParent:$("#select2Div"+o)});var a=n.createElement("option");a.innerText="Project 명",a.setAttribute("display","none"),i.appendChild(a);var r=new XMLHttpRequest;r.onreadystatechange=function(){404===r.status?window.location="/404":500===r.status&&(window.location="/500")},r.open("GET",selectDataApi("custom",{unit:"project",preValId:-1}),!0),r.send(),r.addEventListener("load",function(){e[0]=JSON.parse(r.responseText),e[0].forEach(function(e){var t=n.createElement("option");t.innerText=e.pj_name,i.appendChild(t)}),document.getElementById("select2_multiple0").appendChild(i)});for(var s=0;s<4;s++)$("#select2_multiple"+s).on("change",function(i){return function(){var o=$("#select2_multiple"+i).val(),a=$("#select2_multiple"+i)[0].selectedIndex;if($.isEmptyObject(o)||"Project 명"===o){for(var r=3;r>i;r--)$("#select2_multiple"+r).attr("disabled",!0);t.splice(i)}else{var s;s=0===i?e[0][a-1].pj_id:1===i?e[1][a].build_id:2===i?e[2][a].class_id:e[3][a].method_id,t[i]=s;var l=["buildno","class","testcase"];if(i>=0&&i<=2){var d=new XMLHttpRequest;d.open("GET",selectDataApi("custom",{unit:l[i],preValId:s}),!0),d.send(),d.addEventListener("load",function(){var t=document.createDocumentFragment();e[i+1]=[],$("#select2_multiple"+(i+1)).empty(),e[i+1]=JSON.parse(d.responseText),e[i+1].forEach(function(e){var i=n.createElement("option");e.buildno?i.innerText="(Build No."+e.buildno+") ":e.class_name?i.innerText=e.package_name+" / "+e.class_name:e.method_name&&(i.innerText=e.method_name),t.append(i)}),$("#select2_multiple"+(i+1)).append(t)}),$("#select2_multiple"+(i+1)).removeAttr("disabled")}}}}(s));document.getElementById("customSubmitBtn").addEventListener("click",function(){if("Project 명"!==$("#select2_multiple0").val()){var e=document.createDocumentFragment(),i=new XMLHttpRequest;i.open("POST","/access/deleteData",!0),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){404===i.status?window.location="/404":500===i.status&&(window.location="/500")},i.send(JSON.stringify({selectId:t})),i.addEventListener("load",function(){var t=n.createElement("div"),o=n.createElement("div"),a=n.createElement("h2"),r=n.createElement("div"),s=n.createElement("div"),l=n.createElement("div");t.setAttribute("class","x_panel"),o.setAttribute("class","x_title"),a.innerText="결과",a.setAttribute("text-align","center"),r.setAttribute("class","clearfix"),s.setAttribute("class","x_content"),l.setAttribute("id","resultDiv"),t.appendChild(o),o.appendChild(a),o.appendChild(r),t.appendChild(s),s.appendChild(l),l.innerHTML=i.responseText,e.appendChild(t),document.getElementById("customSortDiv").appendChild(e)})}})}}function init_modal(e,t){return function(){if(document.getElementById("detailPage")){var n=new XMLHttpRequest;n.onreadystatechange=function(){404===n.status?window.location="/404":500===n.status&&(window.location="/500")},n.open("GET",selectDataApi("modal",{pj_id:e,build_id:t}),!0),n.send(),n.addEventListener("load",function(){var e=processdata(JSON.parse(n.responseText));new Chart(document.getElementById("lineChart_mo"),{type:"line",data:e.getInnerData()[0],options:{hover:{intersect:!1},tooltips:{mode:"index",intersect:!1,itemSort:function(e,t){return t.datasetIndex-e.datasetIndex}},scales:{yAxes:[{stacked:!0}]},elements:{line:{tension:0,borderWidth:1},point:{radius:0,borderWidth:2,hitRadius:20}}}})})}}}function init_charts(){if(document.getElementById("chartDiv")&&"undefined"!=typeof Chart){console.log("init_charts"),Chart.defaults.global.legend=!1;var e=new XMLHttpRequest;e.onreadystatechange=function(){404===e.status?window.location="/404":500===e.status&&(window.location="/500")},e.open("GET",selectDataApi("chart",null),!0),e.send(),e.addEventListener("load",function(){for(var t=processdata(JSON.parse(e.responseText)),n=t.getTotalChartCount(),i=document,o=0;o<n;o++)i.getElementById("title"+o).innerText=t.getPjLabel()[o].pj_name,i.getElementById("build"+o).innerText="Last Build : No."+t.getBuildTime()[o][0]+" ("+t.getBuildTime()[o][1]+")",i.getElementById("duration"+o).innerText="Duration : "+t.getDuration()[o],i.getElementById("link"+o).setAttribute("href",t.getPjLink()[o]);for(o=0;o<n;o++){var a=document.getElementById("lineChart"+o);!function(e,n){document.getElementById("lineChart"+o).addEventListener("click",function(i){var o=e.getElementsAtEventForMode(i,"index",{intersect:!1});0!=o.length&&($("#detailPage").modal("show"),init_modal(t.getPjLabel()[n].pj_id,t.getPjLabel()[n].build_id[o[0]._index])(),$("#detailPage").on("hidden.bs.modal",function(){document.getElementById("panel_mo").removeChild(document.getElementById("lineChart_mo"));var e=document.createElement("canvas");e.setAttribute("id","lineChart_mo"),e.setAttribute("height","50%"),document.getElementById("panel_mo").appendChild(e)}))})}(new Chart(a,{type:"line",data:t.getInnerData()[o],options:{hover:{intersect:!1},tooltips:{mode:"index",intersect:!1,itemSort:function(e,t){return t.datasetIndex-e.datasetIndex}},scales:{yAxes:[{stacked:!0}]},elements:{line:{tension:0,borderWidth:1},point:{radius:0,borderWidth:2,hitRadius:20}}}}),o)}})}}function init_compose(){void 0!==$.fn.slideToggle&&(console.log("init_compose"),$("#compose, .compose-close").click(function(){$(".compose").slideToggle()}))}!function(e,t){var n=function(e,t,n){var i;return function(){var o=this,a=arguments;i?clearTimeout(i):n&&e.apply(o,a),i=setTimeout(function(){n||e.apply(o,a),i=null},t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",n(e)):this.trigger(t)}}(jQuery,"smartresize");var CURRENT_URL=window.location.href.split("#")[0].split("?")[0],$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer");$(document).ready(function(){init_sidebar(),init_panel(),init_tooltip(),init_progressbar()}),"undefined"!=typeof NProgress&&$(document).ready(function(){NProgress.start()}),$(document).ready(function(){init_knob(),init_SmartWizard(),init_charts(),init_select2(),init_compose()}),$(window).on("load",function(){NProgress.done()});
>>>>>>> c74ae91cdaa278750f4f6e6f41bbbbc0587b5292
