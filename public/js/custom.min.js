function init_sidebar(){var e=function(){$RIGHT_COL.css("min-height",$(window).height());var e=$BODY.outerHeight(),t=$BODY.hasClass("footer_fixed")?-10:$FOOTER.height(),n=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),i=e<n?n:e;i-=$NAV_MENU.height()+t,$RIGHT_COL.css("min-height",i)};$SIDEBAR_MENU.find("a").on("click",function(t){var n=$(this).parent();n.is(".active")?(n.removeClass("active active-sm"),$("ul:first",n).slideUp(function(){e()})):(n.parent().is(".child_menu")?$BODY.is(".nav-sm")&&($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()):($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),n.addClass("active"),$("ul:first",n).slideDown(function(){e()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($SIDEBAR_MENU.find("li.active ul").hide(),$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($SIDEBAR_MENU.find("li.active-sm ul").show(),$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),$BODY.toggleClass("nav-md nav-sm"),e(),$(".dataTable").each(function(){$(this).dataTable().fnDraw()})}),$SIDEBAR_MENU.find('a[href="'+CURRENT_URL+'"]').parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==CURRENT_URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){e()}).parent().addClass("active"),$(window).smartresize(function(){e()}),e(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}function init_panel(){$(".collapse-link").on("click",function(){var e=$(this).closest(".x_panel"),t=$(this).find("i"),n=e.find(".x_content");e.attr("style")?n.slideToggle(200,function(){e.removeAttr("style")}):(n.slideToggle(200),e.css("height","auto")),t.toggleClass("fa-chevron-up fa-chevron-down")}),$(".close-link").click(function(){$(this).closest(".x_panel").remove()})}function init_tooltip(){$('[data-toggle="tooltip"]').tooltip({container:"body"})}function init_progressbar(){$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar()}function init_PNotify(){"undefined"!=typeof PNotify&&(console.log("init_PNotify"),new PNotify({title:"PNotify",type:"info",text:"Welcome. Try hovering over me. You can click things behind me, because I'm non-blocking.",nonblock:{nonblock:!0},addclass:"dark",styling:"bootstrap3",hide:!1,before_close:function(e){return e.update({title:e.options.title+" - Enjoy your Stay",before_close:null}),e.queueRemove(),!1}}))}function init_IonRangeSlider(){void 0!==$.fn.ionRangeSlider&&(console.log("init_IonRangeSlider"),$("#range_27").ionRangeSlider({type:"double",min:1e6,max:2e6,grid:!0,force_edges:!0}),$("#range").ionRangeSlider({hide_min_max:!0,keyboard:!0,min:0,max:5e3,from:1e3,to:4e3,type:"double",step:1,prefix:"$",grid:!0}),$("#range_25").ionRangeSlider({type:"double",min:1e6,max:2e6,grid:!0}),$("#range_26").ionRangeSlider({type:"double",min:0,max:1e4,step:500,grid:!0,grid_snap:!0}),$("#range_31").ionRangeSlider({type:"double",min:0,max:100,from:30,to:70,from_fixed:!0}),$(".range_min_max").ionRangeSlider({type:"double",min:0,max:100,from:30,to:70,max_interval:50}))}function urlByBrowser(){var e=document,t=navigator.userAgent.toLowerCase();return t.indexOf("msie")>-1||t.indexOf(!1)?e.URL:e.documentURI}function selectDataApi(e){var t="",n=urlByBrowser();return"chart"===e?t="/getChartData/"+n.substring(n.lastIndexOf(":")+6):"knob"===e?t="/admin/getKnobData/":"custom_"===e.substring(0,7)&&(t="/getCustomData/"+["project/","package/","suite/","testcase/"][1*e.substring(7,8)],""!==e.substring(8)&&(t+=e.substring(e.indexOf("/")+1))),t}function processdata(e){var t,n=[],i=[],o=[],a=[],r=[],l=[],s=[],d=[];t=e.totalChartCount,r=e.pj_label.slice();for(var c=0;c<t;c++)n[c]=[],i[c]=[],i[c][0]=[],i[c][1]=[],i[c][2]=[],a[c]=e.pj_label[c].pj_id,l[c]=e.pj_label[c].pj_link,s[c]=[],s[c][0]=[],s[c][1]=[],d[c]=[];for(e.data.forEach(function(t){var o=a.indexOf(t.pj_id);t.start_t||(t.start_t="0"),n[o].length<e.maxLabel&&n[o].push(t.start_t.slice(5,10)),i[o][0].push(t.pass),i[o][1].push(t.fail),i[o][2].push(t.skip),s[o][0]?s[o][0]<1*t.buildno&&(s[o][0]=t.buildno,s[o][1]=t.start_t,d[o]=t.duration.slice(0,2)+"h "+t.duration.slice(3,5)+"m "+t.duration.slice(6,8)+"s"):(s[o][0]=-1,s[o][1]="1453/05/29 09:00:00")}),c=0;c<t;c++)o[c]={labels:n[c],datasets:[{label:"Pass",backgroundColor:"rgba(52, 152, 219, 0.31)",borderColor:"rgba(52, 152, 219, 0.7)",pointBorderColor:"rgba(52, 152, 219, 0.7)",pointBackgroundColor:"rgba(52, 152, 219, 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(52, 152, 219, 1)",pointBorderWidth:2,pointHitRadius:50,data:i[c][0]},{label:"Fail",backgroundColor:"rgba(233, 54, 79, 0.3)",borderColor:"rgba(233, 54, 79, 0.70)",pointBorderColor:"rgba(233, 54, 79, 0.70)",pointBackgroundColor:"rgba(233, 54, 79, 0.70)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(233, 54, 79, 1)",pointBorderWidth:2,pointHitRadius:50,data:i[c][1]},{label:"Skip",backgroundColor:"rgba(155, 89, 182, 0.3)",borderColor:"rgba(155, 89, 182, 0.70)",pointBorderColor:"rgba(155, 89, 182, 0.70)",pointBackgroundColor:"rgba(155, 89, 182, 0.70)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(155, 89, 182, 1)",pointBorderWidth:2,pointHitRadius:50,data:i[c][2]}]};return{getInnerData:function(){return o},getBuildTime:function(){return s},getDuration:function(){return d},getCnt:function(){return t},getPjLabel:function(){return r},getPjLink:function(){return l}}}function init_knob(){if(void 0!==$.fn.knob&&document.getElementById("knobInput")){console.log("init_knob");var e=new XMLHttpRequest,t=document;t.getElementById("labelSubmit").addEventListener("click",function(){t.getElementById("newMaxLabel").value=t.getElementById("newMaxLabel_text").innerText}),e.open("GET",selectDataApi("knob"),!0),e.send(),e.addEventListener("load",function(){var n=JSON.parse(e.responseText);t.getElementById("knobInput").value=n,t.getElementById("MaxLabel_text").innerText="현재 : "+n+"개",$(".knob").knob({min:1,max:50,thickness:.2,displayPrevious:!0,inputColor:"#34495E",fgColor:"#34495E",change:function(e){},release:function(e){t.getElementById("newMaxLabel_text").innerText="변경 : "+e+"개"},cancel:function(){console.log("cancel : ",this)},draw:function(){this.cursorExt=.3;var e,t=this.arc(this.cv);return this.g.lineWidth=this.lineWidth,this.o.displayPrevious&&(e=this.arc(this.v),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,e.s,e.e,e.d),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,t.s,t.e,t.d),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}})})}}function init_SmartWizard(){void 0!==$.fn.smartWizard&&(console.log("init_SmartWizard"),$("#wizard").smartWizard(),$("#wizard_verticle").smartWizard({transitionEffect:"slide"}),$(".buttonNext").addClass("btn btn-success"),$(".buttonPrevious").addClass("btn btn-primary"))}function init_select2(){function e(){if("Project 명"!==$("#select2_multiple0").val()){var t=document.createDocumentFragment(),n=document,i=n.createElement("div"),o=n.createElement("div"),a=n.createElement("h2"),r=n.createElement("div"),l=n.createElement("div"),s=n.createElement("div");i.setAttribute("class","x_panel"),o.setAttribute("class","x_title"),a.innerText="결과 Chart",r.setAttribute("class","clearfix"),l.setAttribute("class","x_content"),s.setAttribute("id","chartDiv"),i.appendChild(o),o.appendChild(a),o.appendChild(r),i.appendChild(l),l.appendChild(s),t.appendChild(i),document.getElementById("customSortDiv").appendChild(t),document.getElementById("customSubmitBtn").removeEventListener("click",e)}}if(document.getElementById("select2Div0")){console.log("init_select2");for(var t=0;t<4;t++)$("#select2_multiple"+t).select2({maximumSelectionLength:4,placeholder:"이전 항목을 선택해주세요",containerCssClass:":all:",allowClear:!0,dropdownParent:$("#select2Div"+t)});var n=document,i=document.createDocumentFragment(),o=n.createElement("option");o.innerText="Project 명",o.setAttribute("display","none"),i.appendChild(o);var a=[[],[],[],[]],r=new XMLHttpRequest;for(r.onreadystatechange=function(){404==r.status?window.location="/404":500==r.status&&(window.location="/500")},r.open("GET",selectDataApi("custom_0"),!0),r.send(),r.addEventListener("load",function(){a[0]=JSON.parse(r.responseText);for(var e=1;e<6;e++){var t=n.createElement("optgroup");e>=1&&e<=4?(t.id="NT"+e,t.label="네이버테스트"+e+"팀"):(t.id="LT",t.label="라인테스트팀"),i.appendChild(t)}a[0].forEach(function(e){var t=n.createElement("option");t.innerText=e.pj_name,i.getElementById(e.pj_teamname).appendChild(t)}),document.getElementById("select2_multiple0").appendChild(i)}),t=0;t<3;t++)$("#select2_multiple"+t).on("change",function(e){return function(){console.log(a);var t=$("#select2_multiple"+e).val();if(null===t||"Project 명"===t)for(var i=3;i>e;i--)$("#select2_multiple"+i).attr("disabled",!0);else{var o;0==e?o=a[e].filter(function(e){return e.pj_name===t})[0].pj_id:1==e?(o=a[e].filter(function(e){return e.buildno===1*t[0].substring(t[0].indexOf("(")+4,t[0].indexOf(")"))})[0].package_id,console.log(o)):o=a[e].filter(function(e){return e.su_name===t[0]})[0].su_id;var r=new XMLHttpRequest;r.open("GET",selectDataApi("custom_"+(e+1)+"/"+o),!0),r.send(),r.addEventListener("load",function(){var t=document.createDocumentFragment();a[e+1]=[],$("#select2_multiple"+(e+1)).empty(),a[e+1]=JSON.parse(r.responseText),a[e+1].forEach(function(e){var i=n.createElement("option");e.package_name?i.innerText="(No."+e.buildno+") "+e.package_name:e.su_name?i.innerText=e.su_name:e.case_name&&(i.innerText=e.case_name),t.append(i)}),$("#select2_multiple"+(e+1)).append(t)}),$("#select2_multiple"+(e+1)).removeAttr("disabled")}}}(t));document.getElementById("customSubmitBtn").addEventListener("click",e)}}function init_charts(){if(document.getElementById("chartDiv")&&"undefined"!=typeof Chart){console.log("init_charts");var e=new XMLHttpRequest;Chart.defaults.global.legend={enabled:!1},e.onreadystatechange=function(){404==e.status?window.location="/404":500==e.status&&(window.location="/500")},e.open("GET",selectDataApi("chart"),!0),e.send(),e.addEventListener("load",function(){for(var t=processdata(JSON.parse(e.responseText)),n=t.getCnt(),i=document,o=document.createDocumentFragment(),a=0;a<n;a++){var r=i.createElement("div"),l=i.createElement("div"),s=i.createElement("div"),d=i.createElement("h3"),c=i.createElement("div"),u=i.createElement("div"),p=i.createElement("canvas"),m=i.createElement("div"),g=i.createElement("div"),f=i.createElement("div"),h=i.createElement("h4"),b=i.createElement("h4"),_=i.createElement("h4"),v=i.createElement("a");r.setAttribute("class","col-lg-3 col-md-6 col-sm-6 col-xs-12"),l.setAttribute("class","x_panel"),s.setAttribute("class","x_title"),d.innerText=t.getPjLabel()[a].pj_name,c.setAttribute("class","clearfix"),u.setAttribute("class","x_content"),p.setAttribute("id","lineChart"+a),h.setAttribute("id","h4_b"+a),b.setAttribute("id","h4_d"+a),_.setAttribute("id","h4_m"+a),h.innerText="Last Build :  No."+t.getBuildTime()[a][0]+" ("+t.getBuildTime()[a][1]+")",b.innerText="Duration :  "+t.getDuration()[a],_.innerText="More Info : ",v.setAttribute("target","_blank"),v.setAttribute("href",t.getPjLink()[a]),v.innerText="Report Link",r.appendChild(l),l.appendChild(s),s.appendChild(d),s.appendChild(c),l.appendChild(u),u.appendChild(p),u.appendChild(m),u.appendChild(g),u.appendChild(f),m.appendChild(h),g.appendChild(b),f.appendChild(_),_.appendChild(v),o.appendChild(r)}for(document.getElementById("chartDiv").appendChild(o),a=0;a<n;a++)new Chart(document.getElementById("lineChart"+a),{type:"line",data:t.getInnerData()[a],options:{tooltips:{mode:"label",intersect:!0}}})})}}function init_compose(){void 0!==$.fn.slideToggle&&(console.log("init_compose"),$("#compose, .compose-close").click(function(){$(".compose").slideToggle()}))}!function(e,t){var n=function(e,t,n){var i;return function(){var o=this,a=arguments;i?clearTimeout(i):n&&e.apply(o,a),i=setTimeout(function(){n||e.apply(o,a),i=null},t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",n(e)):this.trigger(t)}}(jQuery,"smartresize");var CURRENT_URL=window.location.href.split("#")[0].split("?")[0],$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer");$(document).ready(function(){init_sidebar(),init_panel(),init_tooltip(),init_progressbar()}),"undefined"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()})),$(document).ready(function(){init_knob(),init_SmartWizard(),init_charts(),init_select2(),init_compose()});